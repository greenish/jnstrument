const pino = require('pino')();

///////////////////////////////////////////////////////////////////////////////

module.exports = Events();

let scopeCounter = 0;

///////////////////////////////////////////////////////////////////////////////

function Events( fileName ) {
  
  return {
    enterScope: enterScope,
    exitScope: exitScope,
  };

///////////////////////////////////////////////////////////////////////////////
         
  function enterScope(parentScopeId){
    const scopeId = ++scopeCounter;
    
    pino.info(`ENTER: ${scopeId}; parent: ${parentScopeId}`);
    return scopeId;
  }
  
///////////////////////////////////////////////////////////////////////////////
         
  function exitScope(returns, scopeId){
  
    pino.info(`EXIT: ${scopeId}; returns?: ${!!returns}`);
    return returns;
  }
  
///////////////////////////////////////////////////////////////////////////////

}